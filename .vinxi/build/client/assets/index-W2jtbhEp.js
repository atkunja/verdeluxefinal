import{u as p,a as u,o as x,d as w,z as n,j as e,L as f,s as a}from"./index-D68JyPnQ.js";import{u as y,a as g}from"./zod-Us8nOtev.js";import{L as h}from"./Layout-C0GgeWN6.js";import"./log-out-C9kJv6u3.js";import"./Footer-CWCGcQgO.js";import"./map-pin-BUW29wY0.js";const b=x({email:a().email("Valid email is required"),temporaryPassword:a().min(1,"Temporary password is required"),newPassword:a().min(8,"Password must be at least 8 characters"),confirmPassword:a().min(8,"Password must be at least 8 characters")}).refine(t=>t.newPassword===t.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]}),F=function(){const m=p(),i=u(),{register:o,handleSubmit:l,formState:{errors:s}}=y({resolver:g(b)}),d=w(i.forgotPassword.mutationOptions({onSuccess:r=>{n.success(r.message),setTimeout(()=>{m({to:"/login"})},2e3)},onError:r=>{n.error(r.message||"Failed to reset password")}})),c=r=>{d.mutate({email:r.email,temporaryPassword:r.temporaryPassword,newPassword:r.newPassword})};return e.jsx(h,{children:e.jsx("div",{className:"min-h-[80vh] flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Reset your password"}),e.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Enter your email, temporary password, and a new password to reset your account"})]}),e.jsxs("form",{onSubmit:l(c),className:"mt-8 space-y-6",children:[e.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email address"}),e.jsx("input",{id:"email",type:"email",autoComplete:"email",...o("email"),className:"appearance-none rounded-md relative block w-full px-3 py-2 border border-[#d7d1c4] bg-[#f7f4ed] text-[#163022] placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent focus:z-10 sm:text-sm",placeholder:"Email address"}),s.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.email.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"temporaryPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Temporary Password"}),e.jsx("input",{id:"temporaryPassword",type:"text",autoComplete:"off",...o("temporaryPassword"),className:"appearance-none rounded-md relative block w-full px-3 py-2 border border-[#d7d1c4] bg-[#f7f4ed] text-[#163022] placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent focus:z-10 sm:text-sm",placeholder:"Temporary password from admin"}),s.temporaryPassword&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.temporaryPassword.message}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Enter the temporary password that was provided to you. If you don't have it, please contact us."})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),e.jsx("input",{id:"newPassword",type:"password",autoComplete:"new-password",...o("newPassword"),className:"appearance-none rounded-md relative block w-full px-3 py-2 border border-[#d7d1c4] bg-[#f7f4ed] text-[#163022] placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent focus:z-10 sm:text-sm",placeholder:"New password (min. 8 characters)"}),s.newPassword&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.newPassword.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),e.jsx("input",{id:"confirmPassword",type:"password",autoComplete:"new-password",...o("confirmPassword"),className:"appearance-none rounded-md relative block w-full px-3 py-2 border border-[#d7d1c4] bg-[#f7f4ed] text-[#163022] placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent focus:z-10 sm:text-sm",placeholder:"Confirm new password"}),s.confirmPassword&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.confirmPassword.message})]})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:d.isPending,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:d.isPending?"Resetting password...":"Reset Password"})}),e.jsx("div",{className:"text-center",children:e.jsx(f,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500 text-sm",children:"Back to login"})})]})]})})})};export{F as component};
