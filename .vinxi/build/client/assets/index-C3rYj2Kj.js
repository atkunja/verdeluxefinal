import{u as p,a as x,b as g,o as f,d as h,z as a,j as e,L as i,s as l}from"./index-D68JyPnQ.js";import{u as b,a as j}from"./zod-Us8nOtev.js";import{Q as w}from"./QuizIdentityLayout-_IpR82wO.js";import{L as N}from"./loader-circle-ZVWRwCK0.js";const y=f({email:l().email("Valid email is required"),password:l().min(1,"Password is required")}),E=function(){const o=p(),d=x(),c=g(s=>s.setAuth),{register:n,handleSubmit:m,formState:{errors:t}}=b({resolver:j(y)}),r=h(d.login.mutationOptions({onSuccess:s=>{c(s.token,s.user),a.success("Login successful!"),s.user.role==="CLEANER"?o({to:"/cleaner-portal"}):s.user.role==="CLIENT"?o({to:"/client-portal"}):s.user.role==="ADMIN"||s.user.role==="OWNER"?o({to:"/admin-portal"}):o({to:"/"})},onError:s=>{a.error(s.message||"Login failed")}})),u=s=>{r.mutate(s)};return e.jsx(w,{title:"Welcome Back",subtitle:"Sign in to manage your bookings and experience premium cleaning.",children:e.jsxs("form",{onSubmit:m(u),className:"space-y-6",children:[e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"group relative",children:[e.jsx("label",{className:"block text-sm font-bold text-[#163022] mb-2 ml-1 transition-all group-focus-within:text-[#163022]",children:"Email Address"}),e.jsx("input",{type:"email",autoComplete:"email",...n("email"),className:`w-full px-5 py-4 bg-[#f9f8f4] border ${t.email?"border-red-300 ring-2 ring-red-50 focus:border-red-400":"border-[#e3ded2] focus:border-[#163022] focus:ring-4 focus:ring-[#163022]/5"} rounded-2xl text-[#163022] font-medium transition-all duration-300 placeholder:text-gray-400 outline-none`,placeholder:"name@example.com"}),t.email&&e.jsx("p",{className:"mt-2 text-xs font-bold text-red-500 ml-1",children:t.email.message})]}),e.jsxs("div",{className:"group relative",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2 ml-1",children:[e.jsx("label",{className:"block text-sm font-bold text-[#163022]",children:"Password"}),e.jsx(i,{to:"/forgot-password",className:"text-xs font-bold text-[#163022]/60 hover:text-[#163022] transition-colors",children:"Forgot password?"})]}),e.jsx("input",{type:"password",autoComplete:"current-password",...n("password"),className:`w-full px-5 py-4 bg-[#f9f8f4] border ${t.password?"border-red-300 ring-2 ring-red-50 focus:border-red-400":"border-[#e3ded2] focus:border-[#163022] focus:ring-4 focus:ring-[#163022]/5"} rounded-2xl text-[#163022] font-medium transition-all duration-300 placeholder:text-gray-400 outline-none`,placeholder:"••••••••"}),t.password&&e.jsx("p",{className:"mt-2 text-xs font-bold text-red-500 ml-1",children:t.password.message})]})]}),e.jsx("button",{type:"submit",disabled:r.isPending,className:"w-full bg-[#163022] hover:bg-[#0f241a] text-white font-bold py-5 px-6 rounded-2xl shadow-xl shadow-[#163022]/10 transition-all duration-300 active:scale-[0.98] disabled:opacity-70 disabled:cursor-not-allowed flex items-center justify-center gap-3 group",children:r.isPending?e.jsxs(e.Fragment,{children:[e.jsx(N,{className:"h-5 w-5 animate-spin"}),e.jsx("span",{children:"Signing in..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Sign In"}),e.jsx("svg",{className:"w-5 h-5 group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})}),e.jsx("div",{className:"pt-4 text-center",children:e.jsxs("p",{className:"text-sm text-[#5c5a55]",children:["Don't have an account?"," ",e.jsx(i,{to:"/register",className:"font-bold text-[#163022] hover:underline underline-offset-4",children:"Sign up today"})]})})]})})};export{E as component};
