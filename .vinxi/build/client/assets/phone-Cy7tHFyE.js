import{j as e,u as p,a as x,k as m,d as h,z as c}from"./index-D68JyPnQ.js";import{u as g}from"./BookingWizardProvider-CZ44CSfS.js";import{b as y}from"./analytics-Cg1IkZOG.js";import{i as f,b as j}from"./styles-CoJu3Vce.js";import{Q as w}from"./QuizIdentityLayout-_IpR82wO.js";function b(){const o=p(),l=x(),{draft:s,updateDraft:d}=g(),[r,i]=m.useState(null),n=h(l.booking.sendQuizOtp.mutationOptions()),a=()=>{const t=s.contact.phone||"";if(!t.trim()){i("Please enter your phone number");return}y.selectionMade("phone",t),n.mutate({phone:t},{onSuccess:()=>{c.success("Verification code sent"),o({to:"/booking-quiz/new/otp"})},onError:u=>{c.error(u.message||"Failed to send code")}})};return e.jsx(w,{title:"Verify your phone",subtitle:"We'll text you a 6-digit code to securely verify your identity.",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-bold text-[#163022] uppercase tracking-wider",children:"Phone Number"}),e.jsx("input",{className:`${f} mt-2 py-4 text-lg border-2 focus:border-[#163022] transition-colors`,value:s.contact.phone||"",onChange:t=>{d({contact:{...s.contact,phone:t.target.value}}),i(null)},placeholder:"(555) 123-4567",onKeyDown:t=>t.key==="Enter"&&a(),autoFocus:!0,inputMode:"tel"}),r&&e.jsxs("p",{className:"mt-2 text-sm font-medium text-red-600 flex items-center gap-1",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),e.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),r]})]}),e.jsx("button",{type:"button",className:`${j} w-full py-4 text-lg shadow-xl active:scale-[0.98] disabled:opacity-70`,onClick:a,disabled:n.isPending,children:n.isPending?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):"Send Verification Code"}),e.jsx("p",{className:"text-center text-[10px] text-[#5c5a55]/60 uppercase tracking-widest font-semibold",children:"Standard messaging rates Apply"})]})})}const z=function(){return e.jsx(b,{})};export{z as component};
