import{c as A,a as E,f as q,r,g as D,d as L,j as e,A as O,z as h}from"./index-D68JyPnQ.js";import{l as B,a as H,g as T}from"./adminPortal-KrRNUMwu.js";import{P as p}from"./plus-BeADQoDx.js";import{P as V}from"./pencil-CG31BmeG.js";/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],S=A("trash",F);function Q({day:x}){const[i,m]=r.useState(x!=="Saturday"&&x!=="Sunday"),[n,u]=r.useState("07:30"),[b,g]=r.useState("17:00");return e.jsxs("div",{className:"rounded-xl border border-gray-200 bg-[#f9fafb] p-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"font-semibold text-[#0f172a]",children:x}),e.jsxs("label",{className:"inline-flex cursor-pointer items-center gap-2 text-sm",children:[e.jsx("span",{className:"text-xs text-gray-500",children:i?"On":"Off"}),e.jsx("input",{type:"checkbox",checked:i,onChange:d=>m(d.target.checked),className:"h-5 w-5 rounded border-gray-300 text-[#163022] focus:ring-[#163022]"})]})]}),i&&e.jsxs("div",{className:"mt-3 flex items-center gap-2 text-sm",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-xs text-gray-500",children:"Start Time"}),e.jsx("input",{value:n,onChange:d=>u(d.target.value),className:"mt-1 w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm",type:"time"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-xs text-gray-500",children:"End Time"}),e.jsx("input",{value:b,onChange:d=>g(d.target.value),className:"mt-1 w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm",type:"time"})]}),e.jsx("button",{className:"mt-6 rounded-lg bg-blue-100 px-3 py-2 text-xs font-semibold text-[#0f172a]",onClick:()=>{u("07:30"),g("17:00")},children:"Copy to All Days"})]})]})}const G=function(){const i=E(),m=q(),[n,u]=r.useState("checklist"),b=D(i.crm.getLeadSources.queryOptions()),g=L(i.crm.createLeadSource.mutationOptions()),d=L(i.crm.deleteLeadSource.mutationOptions()),[C,y]=r.useState([]),[k,f]=r.useState([]),[j,N]=r.useState(null),[M,c]=r.useState(!1),[l,o]=r.useState(null);r.useEffect(()=>{B().then(y),H().then(f),T().then(N)},[]);const R=r.useMemo(()=>C.reduce((s,t)=>{const a=t.serviceType||"OTHER";return s[a]||(s[a]=[]),s[a].push(t),s},{}),[C]),P=()=>{l&&(k.find(s=>s.id===l.id)?f(s=>s.map(t=>t.id===l.id?l:t)):f(s=>[...s,{...l,id:`BP-${Date.now()}`}]),o(null),c(!1))};return e.jsxs(O,{title:"Settings",subtitle:"Checklist templates, pricing, billing.",actions:e.jsx("div",{className:"flex items-center gap-2 rounded-xl border border-gray-200 bg-white p-1 text-sm",children:["checklist","pricing","billing","website","leadSources"].map(s=>e.jsx("button",{onClick:()=>u(s),className:`rounded-lg px-3 py-1.5 font-semibold ${n===s?"bg-[#163022] text-white":"text-gray-700"}`,children:(s[0]??"").toUpperCase()+s.slice(1)},s))}),children:[n==="checklist"&&e.jsx("div",{className:"space-y-4",children:Object.entries(R).map(([s,t])=>e.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-4 shadow-sm",children:[e.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[e.jsx("div",{className:"text-lg font-semibold text-[#0f172a]",children:s}),e.jsxs("button",{onClick:()=>y(a=>[...a,{id:`CT-${Date.now()}`,name:"New Template",serviceType:s,items:["Add details..."]}]),className:"inline-flex items-center gap-2 rounded-lg bg-[#163022] px-3 py-1.5 text-xs font-semibold text-white",children:[e.jsx(p,{className:"h-4 w-4"}),"Create Template"]})]}),e.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:t.map(a=>e.jsxs("article",{className:"rounded-xl border border-gray-200 bg-[#f9fafb] p-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"font-semibold text-[#0f172a]",children:a.name}),e.jsx("div",{className:"flex gap-1",children:e.jsx("button",{onClick:()=>{window.confirm("Delete template?")&&y(v=>v.filter(w=>w.id!==a.id))},className:"rounded-lg border border-gray-200 bg-white p-2 text-red-600",children:e.jsx(S,{className:"h-4 w-4"})})})]}),e.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-4 text-sm text-gray-700",children:[a.items.slice(0,4).map((v,w)=>e.jsx("li",{children:v},w)),a.items.length>4&&e.jsxs("li",{className:"text-xs text-gray-500",children:["+",a.items.length-4," more"]})]})]},a.id))})]},s))}),n==="pricing"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("section",{className:"rounded-2xl border border-gray-200 bg-white p-4 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-semibold text-[#0f172a]",children:"Base Price"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Mock rule list"})]}),e.jsxs("button",{onClick:()=>{o({id:"",label:"",amount:0,condition:""}),c(!0)},className:"inline-flex items-center gap-2 rounded-lg bg-[#163022] px-3 py-1.5 text-xs font-semibold text-white",children:[e.jsx(p,{className:"h-4 w-4"})," Add Rule"]})]}),e.jsx("div",{className:"mt-3 space-y-2",children:k.map(s=>e.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-gray-200 bg-[#f9fafb] px-3 py-2",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-[#0f172a]",children:s.label}),e.jsx("div",{className:"text-xs text-gray-500",children:s.condition})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"text-sm font-semibold text-[#0f172a]",children:["$",s.amount.toFixed(0)]}),e.jsx("button",{onClick:()=>{o(s),c(!0)},className:"rounded-lg border border-gray-200 bg-white p-2 text-gray-700",children:e.jsx(V,{className:"h-4 w-4"})})]})]},s.id))})]}),["Square Footage Rate","Bedroom Rate","Bathroom Rate","Extra Services","Time Estimate"].map(s=>e.jsxs("section",{className:"rounded-2xl border border-dashed border-gray-200 bg-white p-4 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-semibold text-[#0f172a]",children:s}),e.jsx("div",{className:"text-sm text-gray-500",children:"0 rules"})]}),e.jsx("button",{className:"rounded-lg border border-gray-200 bg-white px-3 py-1.5 text-xs font-semibold text-gray-700",children:"Add Rule"})]}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Skeleton placeholder."})]},s))]}),n==="billing"&&j&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("section",{className:"rounded-2xl border border-gray-200 bg-white p-4 shadow-sm",children:[e.jsx("div",{className:"text-lg font-semibold text-[#0f172a]",children:"Billing Configuration"}),e.jsx("div",{className:"mt-3 grid gap-4 md:grid-cols-2",children:e.jsxs("label",{className:"text-sm text-gray-700",children:["Payment Hold Delay (hours)",e.jsx("input",{type:"number",value:j.paymentHoldDelayHours,onChange:s=>N(t=>t&&{...t,paymentHoldDelayHours:Number(s.target.value)}),className:"mt-1 w-full rounded-lg border border-gray-200 px-3 py-2 text-sm"})]})}),e.jsx("div",{className:"mt-3 space-y-2 text-sm text-gray-700",children:j.notes.map((s,t)=>e.jsx("p",{className:"rounded-lg bg-[#f9fafb] px-3 py-2",children:s},t))}),e.jsxs("div",{className:"mt-4 flex gap-2",children:[e.jsx("button",{onClick:()=>T().then(N),className:"rounded-lg border border-gray-200 bg-white px-4 py-2 text-sm font-semibold text-gray-700",children:"Reset"}),e.jsx("button",{className:"rounded-lg bg-[#163022] px-4 py-2 text-sm font-semibold text-white",children:"Save Configuration"})]})]}),e.jsxs("section",{className:"rounded-2xl border border-dashed border-gray-200 bg-white p-4 shadow-sm",children:[e.jsx("div",{className:"text-lg font-semibold text-[#0f172a]",children:"Current Behavior"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Holds are applied 24 hours before service start. Refunds and retried payments are stubbed until Stripe/Mercury are wired."}),e.jsxs("div",{className:"mt-3 grid gap-2 text-sm text-gray-700",children:[e.jsx("div",{className:"rounded-lg bg-[#f9fafb] px-3 py-2",children:"Example: Friday booking â†’ hold Thursday 10am."}),e.jsx("div",{className:"rounded-lg bg-[#f9fafb] px-3 py-2",children:"Decline retry once per hour for 6 hours."}),e.jsx("div",{className:"rounded-lg bg-[#f9fafb] px-3 py-2",children:"Funds settle to Operating Checking (mock)."})]})]}),e.jsxs("section",{className:"rounded-2xl border border-gray-200 bg-white p-4 shadow-sm",children:[e.jsx("div",{className:"text-lg font-semibold text-[#0f172a]",children:"Availability & Working Hours"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Mock controls for cleaner default availability (Figure 10 style)."}),e.jsx("div",{className:"mt-3 grid gap-3 sm:grid-cols-2",children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(s=>e.jsx(Q,{day:s},s))})]})]}),n==="website"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("section",{className:"rounded-2xl border border-gray-200 bg-white p-6 shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2 font-heading tracking-tight",children:[e.jsx("span",{className:"w-8 h-8 rounded-lg bg-blue-50 text-blue-600 flex items-center justify-center",children:"SEO"}),"SEO & Meta Tags"]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Site Title"}),e.jsx("input",{type:"text",defaultValue:"V-Luxe Cleaning | Premium Residential Cleaning",className:"w-full rounded-xl border border-gray-200 px-4 py-2 text-sm focus:ring-2 focus:ring-primary/20 outline-none transition-all"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Meta Keywords"}),e.jsx("input",{type:"text",defaultValue:"cleaning, luxury, residential, maid service, house cleaning",className:"w-full rounded-xl border border-gray-200 px-4 py-2 text-sm focus:ring-2 focus:ring-primary/20 outline-none transition-all"})]}),e.jsxs("div",{className:"md:col-span-2 space-y-1",children:[e.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Meta Description"}),e.jsx("textarea",{rows:2,defaultValue:"V-Luxe provides premium residential cleaning services with a focus on quality, reliability, and luxury experience.",className:"w-full rounded-xl border border-gray-200 px-4 py-2 text-sm focus:ring-2 focus:ring-primary/20 outline-none transition-all resize-none"})]})]}),e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsx("button",{className:"rounded-xl bg-primary px-6 py-2 text-sm font-bold text-white shadow-lg shadow-primary/20 hover:scale-[1.02] transition-transform",children:"Update SEO"})})]}),e.jsxs("section",{className:"rounded-2xl border border-gray-200 bg-white p-6 shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2 font-heading tracking-tight",children:[e.jsx("span",{className:"w-8 h-8 rounded-lg bg-orange-50 text-orange-600 flex items-center justify-center",children:"FAQ"}),"Frequently Asked Questions"]}),e.jsxs("div",{className:"space-y-3",children:[[{q:"Do you bring your own supplies?",a:"Yes, we provide all eco-friendly cleaning supplies and professional equipment."},{q:"What is your cancellation policy?",a:"Cancellations must be made at least 24 hours in advance to avoid a fee."}].map((s,t)=>e.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl border border-gray-100 group relative",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("input",{type:"text",defaultValue:s.q,className:"bg-transparent font-bold text-gray-900 outline-none w-full border-none p-0 focus:ring-0"}),e.jsx("button",{className:"text-gray-400 hover:text-red-500 transition-colors p-1 opacity-0 group-hover:opacity-100",children:e.jsx(S,{className:"w-4 h-4"})})]}),e.jsx("textarea",{rows:2,defaultValue:s.a,className:"bg-transparent text-sm text-gray-600 outline-none w-full border-none p-0 focus:ring-0 resize-none"})]},t)),e.jsxs("button",{className:"w-full py-3 rounded-xl border-2 border-dashed border-gray-200 text-gray-400 font-bold text-sm hover:border-primary/30 hover:text-primary transition-all flex items-center justify-center gap-2",children:[e.jsx(p,{className:"w-4 h-4"})," Add Question"]})]})]}),e.jsxs("section",{className:"rounded-2xl border border-gray-200 bg-white p-6 shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2 font-heading tracking-tight",children:[e.jsx("span",{className:"w-8 h-8 rounded-lg bg-purple-50 text-purple-600 flex items-center justify-center",children:"LGL"}),"Legal & Policy Pages"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Privacy Policy (Markdown/HTML)"}),e.jsx("textarea",{rows:6,defaultValue:"# Privacy Policy\\n\\nYour privacy is important to us...",className:"w-full rounded-xl border border-gray-200 px-4 py-2 text-sm font-mono focus:ring-2 focus:ring-primary/20 outline-none transition-all"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Terms of Service (Markdown/HTML)"}),e.jsx("textarea",{rows:6,defaultValue:"# Terms of Service\\n\\nBy using our services, you agree...",className:"w-full rounded-xl border border-gray-200 px-4 py-2 text-sm font-mono focus:ring-2 focus:ring-primary/20 outline-none transition-all"})]})]}),e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsx("button",{className:"rounded-xl bg-gray-900 px-6 py-2 text-sm font-bold text-white shadow-lg hover:scale-[1.02] transition-transform",children:"Save Legal Documents"})})]})]}),n==="leadSources"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("section",{className:"rounded-2xl border border-gray-200 bg-white p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx("span",{className:"w-10 h-10 rounded-xl bg-green-50 text-green-600 flex items-center justify-center",children:"LSC"}),"Lead Source Categories"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",id:"new-lead-source",placeholder:"e.g. Google LSA, Yelp",className:"rounded-xl border border-gray-200 px-4 py-2 text-sm focus:ring-2 focus:ring-primary/20 outline-none"}),e.jsx("button",{onClick:async()=>{const s=document.getElementById("new-lead-source");if(!(!s||!s.value))try{await g.mutateAsync({name:s.value}),s.value="",m.invalidateQueries({queryKey:i.crm.getLeadSources.queryOptions().queryKey}),h.success("Lead source added")}catch(t){h.error(t.message)}},className:"rounded-xl bg-[#163022] px-4 py-2 text-sm font-bold text-white shadow-lg shadow-primary/20",children:e.jsx(p,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"grid gap-3 sm:grid-cols-2 md:grid-cols-3",children:(b.data||[]).map(s=>e.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl border border-gray-100 flex items-center justify-between group",children:[e.jsx("span",{className:"font-semibold text-gray-900",children:s.name}),e.jsx("button",{onClick:async()=>{if(confirm("Delete this lead source?"))try{await d.mutateAsync({id:s.id}),m.invalidateQueries({queryKey:i.crm.getLeadSources.queryOptions().queryKey}),h.success("Lead source deleted")}catch(t){h.error(t.message)}},className:"text-gray-400 hover:text-red-500 hover:bg-red-50 p-2 rounded-lg transition-all opacity-0 group-hover:opacity-100",children:e.jsx(S,{className:"w-4 h-4"})})]},s.id))})]})}),M&&l&&e.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/40 p-4",children:e.jsxs("div",{className:"w-full max-w-md rounded-2xl border border-gray-200 bg-white p-5 shadow-2xl",children:[e.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[e.jsxs("div",{className:"text-lg font-semibold text-[#0f172a]",children:[l.id?"Edit":"Add"," Base Price Rule"]}),e.jsx("button",{className:"text-sm text-gray-500",onClick:()=>c(!1),children:"Close"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-sm text-gray-700",children:["Label",e.jsx("input",{value:l.label,onChange:s=>o(t=>t&&{...t,label:s.target.value}),className:"mt-1 w-full rounded-lg border border-gray-200 px-3 py-2 text-sm"})]}),e.jsxs("label",{className:"text-sm text-gray-700",children:["Amount",e.jsx("input",{type:"number",value:l.amount,onChange:s=>o(t=>t&&{...t,amount:Number(s.target.value)}),className:"mt-1 w-full rounded-lg border border-gray-200 px-3 py-2 text-sm"})]}),e.jsxs("label",{className:"text-sm text-gray-700",children:["Condition",e.jsx("input",{value:l.condition,onChange:s=>o(t=>t&&{...t,condition:s.target.value}),className:"mt-1 w-full rounded-lg border border-gray-200 px-3 py-2 text-sm"})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{onClick:()=>c(!1),className:"rounded-lg px-4 py-2 text-sm font-semibold text-gray-600 hover:bg-gray-100",children:"Cancel"}),e.jsx("button",{onClick:P,className:"rounded-lg bg-[#163022] px-4 py-2 text-sm font-semibold text-white",children:"Save"})]})]})]})})]})};export{G as component};
