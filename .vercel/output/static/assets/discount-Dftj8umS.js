import{a as c,g as u,r as i,d,z as r,j as e}from"./index-D68JyPnQ.js";import{P as m}from"./PortalLayout-DFkXF_dG.js";import"./Footer-CWCGcQgO.js";import"./map-pin-BUW29wY0.js";import"./calendar-sVqVbs5g.js";const y=function(){const o=c(),s=u(o.booking.getDiscountConfig.queryOptions()),[t,l]=i.useState({active:!1,type:"PERCENT",value:0,label:"Get Discount"}),n=d(o.booking.upsertDiscountConfig.mutationOptions({onSuccess:()=>r.success("Discount saved"),onError:a=>r.error(a.message||"Failed to save")}));return i.useEffect(()=>{s.data&&l({active:s.data.active,type:s.data.type,value:s.data.value,label:s.data.label})},[s.data]),e.jsx(m,{portalType:"admin",children:e.jsx("div",{className:"min-h-screen bg-[#edeae1] px-6 py-10",children:e.jsxs("div",{className:"max-w-2xl bg-white rounded-2xl shadow p-8",children:[e.jsx("h1",{className:"text-2xl font-semibold text-[#163022] mb-6",children:"Discount Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"flex items-center gap-3 text-sm",children:[e.jsx("input",{type:"checkbox",checked:t.active,onChange:a=>l({...t,active:a.target.checked})}),"Discount active"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("label",{className:"text-sm text-gray-700",children:["Type",e.jsxs("select",{className:"mt-2 w-full border border-gray-200 rounded-lg px-3 py-2",value:t.type,onChange:a=>l({...t,type:a.target.value}),children:[e.jsx("option",{value:"PERCENT",children:"Percent"}),e.jsx("option",{value:"FIXED_AMOUNT",children:"Fixed amount"})]})]}),e.jsxs("label",{className:"text-sm text-gray-700",children:["Value",e.jsx("input",{type:"number",min:0,className:"mt-2 w-full border border-gray-200 rounded-lg px-3 py-2",value:t.value,onChange:a=>l({...t,value:Number(a.target.value)})})]})]}),e.jsxs("label",{className:"text-sm text-gray-700",children:["CTA Label",e.jsx("input",{className:"mt-2 w-full border border-gray-200 rounded-lg px-3 py-2",value:t.label,onChange:a=>l({...t,label:a.target.value})})]}),e.jsx("button",{type:"button",onClick:()=>n.mutate(t),className:"w-full rounded-xl bg-[#163022] text-white py-3 font-semibold",disabled:n.isPending,children:n.isPending?"Saving...":"Save Discount"})]})]})})})};export{y as component};
