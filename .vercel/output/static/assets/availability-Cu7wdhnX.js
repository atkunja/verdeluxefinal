import{a as o,g as c,j as e,A as x}from"./index-D68JyPnQ.js";const n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],h=function(){const d=o(),l=c(d.availability.getAllCleanerAvailability.queryOptions()),i=(l.data||[]).reduce((t,a)=>(t[a.cleanerId]||(t[a.cleanerId]={name:`${a.cleaner.firstName} ${a.cleaner.lastName}`,color:a.cleaner.color,days:{}}),t[a.cleanerId].days[a.dayOfWeek]={startTime:a.startTime,endTime:a.endTime,isAvailable:a.isAvailable},t),{});return e.jsx(x,{title:"Cleaner Availability",subtitle:"Centralized view of all cleaner schedules.",children:e.jsx("div",{className:"overflow-hidden rounded-3xl border border-gray-100 bg-white shadow-sm overflow-x-auto",children:e.jsxs("table",{className:"min-w-full border-collapse text-left text-sm",children:[e.jsx("thead",{className:"bg-[#f9fafb]",children:e.jsxs("tr",{children:[e.jsx("th",{className:"sticky left-0 bg-[#f9fafb] px-6 py-4 font-bold text-[#0f172a] border-r border-gray-100 min-w-[200px]",children:"Cleaner"}),n.map(t=>e.jsx("th",{className:"px-6 py-4 font-bold text-gray-500 text-center min-w-[150px]",children:t},t))]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100",children:[Object.entries(i).map(([t,a])=>e.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[e.jsx("td",{className:"sticky left-0 bg-white px-6 py-4 border-r border-gray-100 font-semibold text-[#0f172a]",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:a.color||"#163022"}}),a.name]})}),n.map((b,r)=>{const s=a.days[r];return e.jsx("td",{className:"px-4 py-3 text-center",children:s?.isAvailable?e.jsxs("div",{className:"inline-flex flex-col items-center justify-center rounded-xl bg-green-50/50 border border-green-100/50 p-2 min-w-[100px]",children:[e.jsx("span",{className:"text-[11px] font-bold text-green-700",children:s.startTime}),e.jsx("div",{className:"h-2 w-0.5 bg-green-200 my-0.5"}),e.jsx("span",{className:"text-[11px] font-bold text-green-700",children:s.endTime})]}):e.jsx("span",{className:"text-xs text-gray-300 font-medium italic",children:"Unavailable"})},r)})]},t)),l.isLoading&&e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"px-6 py-20 text-center text-gray-400 italic",children:"Mapping schedules..."})}),!l.isLoading&&Object.keys(i).length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"px-6 py-20 text-center text-gray-400 italic",children:"No availability data found."})})]})]})})})};export{h as component};
